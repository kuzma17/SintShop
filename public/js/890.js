"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[890],{5890:(t,o,c)=>{c.r(o),c.d(o,{default:()=>g});var n=c(6934),e={class:"clean_cart"},a={class:"table"},u={scope:"col"},l={scope:"col",class:"hidden-mobile"},s={scope:"col",class:"hidden-mobile"},r={scope:"col"},i={scope:"col"},d=["href"],_=["src","alt"],m={class:"hidden-mobile"},h={class:"hidden-mobile"},k=["title"],p=["onClick"],v={class:"total"},f={class:"count"},L={class:"sum"};const C={name:"Cart",props:["goods","count","sum"],mounted:function(){this.products=this.goods,this.cart_count=this.count,this.total_sum=this.sum},data:function(){return{products:[],cart_count:0,total_sum:0}},methods:{editCart:function(t){var o=this,c={id:t.id,qty:t.qty};axios.post("/cart/edit",c).then((function(t){o.cart_count=t.data.cart_count,o.total_sum=t.data.total_sum,o.emitter.emit("CartCount",{cart_count:t.data.cart_count})})).catch((function(t){console.log(t)}))},removeItem:function(t){var o=this,c={id:t.id};axios.post("/cart/remove",c).then((function(c){delete o.products[t.id],o.cart_count=c.data.cart_count,o.total_sum=c.data.total_sum,o.emitter.emit("CartCount",{cart_count:c.data.cart_count})})).catch((function(t){console.log(t)}))},cleanCart:function(){var t=this;axios.post("/cart/clean").then((function(o){t.products=[],t.cart_count=0,t.total_sum=0,t.emitter.emit("CartCount",{cart_count:0})})).catch((function(t){console.log(t)}))}}};const g=(0,c(6262).A)(C,[["render",function(t,o,c,C,g,$){var b=(0,n.g2)("input-quantity");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",e,[(0,n.Lk)("a",{href:"",onClick:o[0]||(o[0]=function(t){return $.cleanCart()})},(0,n.v_)(t.$t("clean_cart")),1)]),(0,n.Lk)("table",a,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",u,(0,n.v_)(t.$t("good_name")),1),(0,n.Lk)("th",l,(0,n.v_)(t.$t("code")),1),(0,n.Lk)("th",s,(0,n.v_)(t.$t("price")),1),(0,n.Lk)("th",r,(0,n.v_)(t.$t("good_count")),1),(0,n.Lk)("th",i,(0,n.v_)(t.$t("good_sum")),1),o[1]||(o[1]=(0,n.Lk)("th",{scope:"col"},null,-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.products,(function(c){return(0,n.uX)(),(0,n.CE)("tr",{key:c.id},[(0,n.Lk)("td",null,[(0,n.Lk)("a",{href:"/catalog/"+c.category.slug+"/"+c.slug},[(0,n.Lk)("img",{src:c.photo,alt:c.name},null,8,_),(0,n.eW)(" "+(0,n.v_)(c.name),1)],8,d)]),(0,n.Lk)("td",m,(0,n.v_)(c.code),1),(0,n.Lk)("td",h,(0,n.v_)(c.price)+" "+(0,n.v_)(t.$t("curr")),1),(0,n.Lk)("td",null,[(0,n.bF)(b,{modelValue:c.qty,"onUpdate:modelValue":function(t){return c.qty=t},onClick:function(t){return $.editCart(c)}},null,8,["modelValue","onUpdate:modelValue","onClick"])]),(0,n.Lk)("td",null,(0,n.v_)(Math.round(c.price*c.qty,2))+" "+(0,n.v_)(t.$t("curr")),1),(0,n.Lk)("td",{title:t.$t("delete_good")},[((0,n.uX)(),(0,n.CE)("svg",{class:"icon delete",onClick:function(t){return $.removeItem(c)}},o[2]||(o[2]=[(0,n.Lk)("use",{"xlink:href":"#fa-trash-can"},null,-1)]),8,p))],8,k)])})),128))])]),(0,n.Lk)("div",v,[(0,n.eW)((0,n.v_)(t.$t("in_cart_item"))+" ",1),(0,n.Lk)("span",f,(0,n.v_)(this.cart_count),1),(0,n.eW)(" "+(0,n.v_)(t.$t("in_sum"))+" ",1),(0,n.Lk)("span",L,(0,n.v_)(this.total_sum)+" "+(0,n.v_)(t.$t("curr")),1)])])}]])},6262:(t,o)=>{o.A=(t,o)=>{const c=t.__vccOpts||t;for(const[t,n]of o)c[t]=n;return c}}}]);